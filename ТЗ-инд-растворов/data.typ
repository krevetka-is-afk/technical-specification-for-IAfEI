#let data = (
  // Project code
  // You can find it here: https://ru-ikt.ru/reestrpo
  code: "05.09",

  // Project name
  project_name: "Разработка интеллектуального ассистента для образовательных учреждений",
  project_name_english: "Development of an Intelligent Assistant for Educational Institutions",

  // Students
  students: (
    (name: "С. Е. Растворов", group: "БПИ236"),
  ),

  // Agreed
  agreed_by_name: "В. Е. Козловский",
  agreed_by_position: "Старший разработчик в X5 Tech",


  // Approved
  approved_by_name: "Н. А. Павлочев",
  approved_by_position: "Академический руководитель образовательной программы \"Программная инженерия\",\n старший преподаватель департамента программной инженерии",

  // Specification content
  application_area: [
    Программа предназначена для интеллектуальной поддержки студентов и преподавателей НИУ ВШЭ и других вузов: ответы на вопросы об учебных планах, регламентах, сроках и процедурах на основе внутренних документов. Система базируется на RAG-архитектуре и использует локальную векторную базу, LLM и интерфейсы Telegram/Web.
  ],

  topic_description: [
    Разработка прототипа чат-бота для образовательных учреждений с RAG-пайплайном, включающим сбор данных, индексацию, генерацию ответов с указанием источников и механизм модерации.
  ],

  functional_purpose: (
    [Диалоговый ассистент для ответа на вопросы по учебным планам, расписаниям, регламентам и сервисам вуза.],
    [Автоматизированный RAG-пайплайн: поиск релевантных фрагментов внутренней базы и генерация ответов с ссылками на источники.],
    [Интеграция с пользовательскими интерфейсами (Telegram-бот, простая веб-форма) и возможностью вызова через REST API.],
    [Контроль качества: флагирование сомнительных ответов, передача на ручную проверку, история запросов и ролевая модель пользователей.],
    [Сбор метрик (время ответа, уверенность модели, доля эскалаций) и обратной связи от фокус-группы.]
  ),

  operational_purpose: (
    [Запуск в Docker Compose с сервисами RAG API, векторной БД и Telegram-ботом; хранение данных на серверах университета.],
    [Работа в изолированных сетях без постоянного доступа в интернет; возможность переключения между локальной и внешней LLM.],
    [Обслуживание пилотной фокус-группы 50–100 пользователей с ростом до 300 запросов в сутки.],
    [Регулярное обновление корпуса документов без остановки сервиса (фоновая пересборка индексов).]
  ),

  functional_requirements: (
    composition: (
      [Ведение диалогов в Telegram и веб-интерфейсе с сохранением истории запросов и статуса рассмотрения.],
      [Препроцессинг входных данных: чтение PDF и текстов, при необходимости OCR изображений, извлечение чистого текста.],
      [Построение векторной БД на базе Chroma с эмбеддингами HuggingFace (ruBERT-tiny2) и поиск релевантных фрагментов.],
      [Генерация ответов LLM (Ollama Mistral или внешние API) с промптами, адаптированными под образовательный контекст.],
      [Формирование итогового ответа с указанием источников (название документа, страница/ссылка) и оценкой уверенности.],
      [Маркировка сомнительных ответов и передача на ручную модерацию; просмотр очереди модерации администраторами.],
      [Управление пользователями: регистрация по Telegram ID, роли (пользователь/администратор), просмотр отправленных запросов.]
    ),
    inputs: (
      [Текстовые вопросы на русском и английском языках.],
      [PDF-документы внутренних регламентов и учебных планов (до 20 МБ) для загрузки в базу знаний.],
      [Изображения с текстом (PNG/JPG) для OCR при необходимости.],
      [Служебные команды (/start, /help, /admin) и кнопки навигации интерфейса.],
      [Метаданные пользователя и времени запроса для логирования и аналитики.]
    ),
    outputs: (
      [Текстовый ответ ассистента с цитатами и ссылками на документы/страницы.],
      [Перечень использованных источников и метаданных (название, дата, номер страницы).],
      [Уведомления о статусе модерации («отправлено на проверку», «проверено экспертом», «одобрено/отклонено»).],
      [Системные логи и метрики (время ответа, confidence, флаги ошибок).]
    ),
    timing: (
      [Среднее время ответа на типовой запрос — до 7 секунд при доступной локальной модели; верхний таймаут — 15 секунд.],
      [Построение/обновление векторной БД на корпус до 500 документов — не более 30 минут (фоновая операция).],
      [Доступность сервиса не ниже 95% в рабочее время (09:00–21:00 Мск).],
      [Время восстановления после сбоя контейнера — до 5 минут.]
    ),
    interface: (
      [Telegram-бот с клавиатурой, предварительным подтверждением OCR/файлов и разделом «отправленные на рассмотрение».],
      [Минимальный веб-интерфейс для ввода вопроса и просмотра ответа/источников.],
      [Админ-команды: просмотр очереди подозрительных запросов, подтверждение/отклонение ответов, назначение администраторов.],
      [REST API /ask с авторизацией по токену/сети для интеграции внешних систем.]
    )
  ),

  reliability: (
    [Контейнеризация (docker-compose) и healthcheck PostgreSQL; автоматический рестарт сервисов.],
    [Централизованное логирование ошибок и алерты на критические сбои.],
    [Маркировка ответов с низкой уверенностью, ручная модерация, хранение истории запросов и решений.],
    [Возможность переключения на резервную модель или stub-ответ при недоступности основной LLM.]
  ),

  exploitation: (
    climate: [
      Эксплуатация в стандартных условиях офисного помещения или дата-центра без специальных требований к климату.
    ],
    maintenance: (
      [Еженедельные резервные копии БД и векторного хранилища с проверкой восстановления.],
      [Ежемесячное обновление корпуса документов и пересборка индексов.],
      [Мониторинг использования CPU/GPU/диска, регулярное обновление зависимостей и моделей.]
    ),
    staff: (
      [1 разработчик/ML-инженер для поддержки RAG и релизов.],
      [1 контент-менеджер/аналитик для подготовки корпуса документов.],
      [0.25 ставки системного администратора/DevOps для инфраструктуры и мониторинга.]
    )
  ),

  software: (
    [Python 3.12, FastAPI, aiogram 3.x.],
    [LangChain, HuggingFace Embeddings (ruBERT-tiny2), ChromaDB.],
    [Ollama (Mistral) или внешние LLM API (при наличии доступа).],
    [PostgreSQL 16, SQLAlchemy (asyncpg).],
    [Docker и docker-compose; Tesseract OCR, PyPDF2 для работы с PDF/изображениями.],
    [Typst для технической документации, Git для контроля версий.]
  ),

  hardware: (
    [Сервер Linux x86_64: 4 vCPU, 16 GB RAM для прототипа; при использовании GPU — 1×NVIDIA 8 GB+.],
    [Накопитель от 20 GB (SSD предпочтительно) под БД, индексы и логи.],
    [Сетевое подключение от 100 Мбит/с к внутренним системам университета.]
  ),

  compatibility: (
    data_structures: (
      [Поддержка PDF/HTML/TXT источников; единый формат хранения эмбеддингов и метаданных (название, дата, ссылка, страница).],
      [Сегментация текста на чанки до 500 символов с перекрытием и сохранением идентификаторов для обратной навигации.]
    ),
    dependencies: (
      [Взаимодействие компонентов через HTTP (FastAPI /ask) и PostgreSQL; docker-compose задаёт сеть сервисов.],
      [Конфигурация через .env и переменные окружения (BOT_TOKEN, DATABASE_URL, HOST_IP, пути к БД).],
      [Требуется доступ к локальному Ollama или внешним LLM API; при недоступности используется резервная модель или stub-ответ.]
    ),
    languages: (
      [Основная разработка на Python 3.12; SQLAlchemy для работы с БД; Typst для документации.],
      [Инфраструктурные скрипты и Dockerfile в формате YAML/Dockerfile; промпты и конфигурации на русском языке.]
    ),
    security: (
      [Авторизация запросов к RAG API по токену/сети; ограничение доступа к административным командам по ролям.],
      [Шифрование соединений при развёртывании в облаке (TLS/VPN), ограничение внешних сетевых выходов.],
      [Хранение персональных данных ограничено Telegram ID и username; соблюдение локальных политик обработки ПДн.],
      [Очистка пользовательских вложений после обработки; защита резервных копий и дампов от несанкционированного доступа.]
    )
  ),

  marking: [
    Поставка программного продукта в электронном виде (git-репозиторий, docker-образы). Версии фиксируются тегами и changelog; применяются внутренние правила маркировки артефактов.
  ],

  transportation: [
    Физическое транспортирование не требуется; хранение осуществляется через резервные копии БД и векторных индексов на защищённых носителях (локальный NAS/облако) с проверкой контрольных сумм.
  ],

  special_requirements: (
    [Возможность офлайн-развёртывания без доступа к внешним LLM.],
    [Конфигурируемый набор документов и промптов для разных факультетов/программ.],
    [Сбор анонимных метрик качества и обратной связи от фокус-группы.]
  ),

  documentation_special: [
    Подготовить инструкции по сборке docker-образов, шаблоны .env, примеры запросов к REST API, карту данных (источники, периодичность обновления) и сценарии первичного деплоя.
  ],

  demand: [
    Прототип рассчитан на пилотную эксплуатацию (50–100 активных пользователей, до 300 запросов/сутки) с возможностью масштабирования путём горизонтального масштабирования бота и вынесения LLM на отдельный узел.
  ],

  target_audience: (
    [Студенты (бакалавриат и магистратура).],
    [Преподаватели и учебные офисы.],
    [ИТ-службы и методисты для быстрых справок по регламентам.]
  ),

  advantages: (
    [Ответы опираются на внутренние документы, а не на общие интернет-данные.],
    [Прозрачные ссылки на источники и страницы документов.],
    [Локальное развёртывание внутри периметра университета.],
    [Гибкая модерация и ручная проверка спорных ответов.],
    [Контейнерная поставка и воспроизводимая инфраструктура.]
  ),

  tests: (
    types: (
      [Функциональные испытания RAG-пайплайна на контрольном наборе вопросов/ответов из учебных регламентов.],
      [Интеграционные испытания обмена данными между ботом, RAG API и БД.],
      [Нагрузочные испытания (30+ одновременных диалогов) с замером времени ответа и устойчивости.],
      [Юзабилити-тестирование с фокус-группой и сбором обратной связи.]
    ),
    acceptance: (
      [Не менее 85% контрольных вопросов отвечены корректно по внутренним документам.],
      [Среднее время ответа ≤ 7 секунд при доступной локальной модели; при деградации отображается предупреждение и fallback.],
      [Отсутствуют дефекты категорий blocker/critical; ошибки high имеют workaround или план фиксации.],
      [Подготовлена эксплуатационная документация и инструкции по обновлению базы знаний.]
    )
  ),

  analog_links: (
    (name: "Официальные ответы НИУ ВШЭ (FAQ)", link: "https://www.hse.ru/answers"),
    (name: "ChatGPT", link: "https://chat.openai.com"),
    (name: "YandexGPT", link: "https://ya.ru/ai/gpt"),
  ),
)
